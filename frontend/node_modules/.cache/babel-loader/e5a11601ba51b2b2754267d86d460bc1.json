{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"./core\")) : \"function\" == typeof define && define.amd ? define([\"./core\"], t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).YveBot = t(e.YveBot);\n}(this, function (e) {\n  \"use strict\";\n\n  function t(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var n = t(e),\n    i = function (e, t) {\n      return (i = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n      })(e, t);\n    };\n  var o = function () {\n      return (o = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n        return e;\n      }).apply(this, arguments);\n    },\n    a = p,\n    r = p,\n    e = p,\n    s = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,\n    l = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;\n  function p(e) {\n    var t = (e = e || {}).ua;\n    if (\"string\" != typeof (t = (t = !t && \"undefined\" != typeof navigator ? navigator.userAgent : t) && t.headers && \"string\" == typeof t.headers[\"user-agent\"] ? t.headers[\"user-agent\"] : t)) return !1;\n    var n = (e.tablet ? l : s).test(t);\n    return n = !n && e.tablet && e.featureDetect && navigator && 1 < navigator.maxTouchPoints && -1 !== t.indexOf(\"Macintosh\") && -1 !== t.indexOf(\"Safari\") ? !0 : n;\n  }\n  function c(e) {\n    return [].slice.call(e);\n  }\n  a.isMobile = r, a.default = e;\n  var u,\n    h,\n    d,\n    m = (b.prototype.createSingleChoiceMessage = function (e, n) {\n      var i = this;\n      return e.options.length ? (this.disableForm(this.options.inputPlaceholderSingleChoice), this.createBubbleMessage(e, function (e, t) {\n        t.remove(), i.enableForm(), n(e.getAttribute(\"data-label\"), e.getAttribute(\"data-value\"));\n      })) : document.createElement(\"div\");\n    }, b.prototype.createBubbleButton = function (e, t, n) {\n      var i = document.createElement(\"button\");\n      i.className = \"yvebot-message-bubbleBtn\", n && n.className && i.classList.add(n.className), i.onclick = function () {\n        return t(i);\n      };\n      n = e.value, e = e.label;\n      return i.setAttribute(\"data-value\", String((void 0 === n ? e : n) || \"\")), i.setAttribute(\"data-label\", String((void 0 === e ? n : e) || \"\")), i.textContent = i.getAttribute(\"data-label\"), i;\n    }, b.prototype.disableForm = function (e) {\n      this.submit.disabled = !0, this.input.disabled = !0, this.input.placeholder = e, this.inputValue = this.input.value, this.input.value = \"\";\n    }, b.prototype.enableForm = function () {\n      var e = this;\n      this.submit.disabled = !1, this.input.disabled = !1, this.input.placeholder = this.options.inputPlaceholder, this.input.value = this.inputValue, this.inputValue = \"\", this.options.autoFocus && (this.input.focus(), this.isMobile && setTimeout(function () {\n        return e.scrollDown(0, null, !0);\n      }, 500));\n    }, b.prototype.createBubbleMessage = function (a, r) {\n      var s = this,\n        e = a.maxOptions,\n        l = void 0 === e ? 0 : e,\n        p = this.options.moreOptionsLabel,\n        c = document.createElement(\"div\");\n      c.className = \"yvebot-message-bubbles yvebot-ruleType-\" + a.type;\n      var u = function (i, e) {\n        void 0 === e && (e = 0);\n        var o = l ? e + l - 1 : i.length;\n        i.slice(e, o).forEach(function (e, t) {\n          var n,\n            e = s.createBubbleButton(e, function (e) {\n              r(e, c), \"MultipleChoice\" !== a.type && s.scrollDown(0, null, !0);\n            });\n          c.appendChild(e), o < i.length && t === l - 2 && (n = s.createBubbleButton({\n            label: p\n          }, function () {\n            u(i, o), n.remove();\n          }, {\n            className: \"yvebot-message-bubbleMoreOptions\"\n          }), c.appendChild(n));\n        });\n      };\n      return u(a.options), c;\n    }, b.prototype.createMultipleChoiceMessage = function (e, i) {\n      var o,\n        a,\n        t,\n        n = document.createElement(\"div\");\n      return e.options.length && ((o = document.createElement(\"button\")).textContent = this.options.doneMultipleChoiceLabel, o.className = \"yvebot-message-bubbleDone\", o.style.display = \"none\", a = this, o.onclick = function () {\n        var e = o.previousElementSibling,\n          t = e.querySelectorAll(\".yvebot-message-bubbleBtn.selected\"),\n          n = c(t).map(function (e) {\n            return e.getAttribute(\"data-label\");\n          }),\n          t = c(t).map(function (e) {\n            return e.getAttribute(\"data-value\");\n          });\n        i(n, t), e.remove(), o.remove(), a.enableForm(), a.scrollDown(0, null, !0);\n      }, t = this.createBubbleMessage(e, function (e) {\n        e.classList.toggle(\"selected\"), t.querySelectorAll(\".yvebot-message-bubbleBtn.selected\").length ? o.style.display = \"inline-block\" : o.style.display = \"none\";\n      }), this.disableForm(this.options.inputPlaceholderMultipleChoice), n.appendChild(t), n.appendChild(o)), n;\n    }, b.prototype.createChat = function () {\n      var e = document.createElement(\"div\");\n      return e.className = \"yvebot-chat\", e;\n    }, b.prototype.createConversation = function () {\n      var e = document.createElement(\"ul\");\n      return e.className = \"yvebot-conversation\", e;\n    }, b.prototype.createTyping = function () {\n      var t = document.createElement(\"div\");\n      return t.className = \"yvebot-typing\", [1, 2, 3].forEach(function () {\n        var e = document.createElement(\"span\");\n        e.className = \"yvebot-typing-dot\", t.appendChild(e);\n      }), this.createThread(\"BOT\", t, \"yvebot-thread-typing\");\n    }, b.prototype.createForm = function () {\n      var e = document.createElement(\"form\");\n      return e.className = \"yvebot-form\", e.appendChild(this.input), e.appendChild(this.submit), e;\n    }, b.prototype.createSubmit = function () {\n      var e = document.createElement(\"button\");\n      return e.className = \"yvebot-form-submit\", e.type = \"submit\", e.textContent = this.options.submitLabel, e;\n    }, b.prototype.createInput = function () {\n      var e = document.createElement(\"input\");\n      return e.className = \"yvebot-form-input\", e.type = \"text\", e.placeholder = this.options.inputPlaceholder, e.autocomplete = \"off\", e;\n    }, b.prototype.createTextarea = function () {\n      var n = this,\n        e = document.createElement(\"textarea\");\n      return e.className = \"yvebot-form-input\", e.placeholder = this.options.inputPlaceholder, e.rows = 1, e.addEventListener(\"keydown\", function (e) {\n        var t = e.key || e.keyCode || e.code;\n        0 <= [\"Enter\", 13].indexOf(t) && !e.shiftKey && (e.preventDefault(), n.form.dispatchEvent(new Event(\"submit\", {\n          cancelable: !0\n        })));\n      }), e.addEventListener(\"input\", function (e) {\n        e = e.target;\n        e.style.height = \"auto\", e.style.height = e.scrollHeight + \"px\";\n      }), e;\n    }, b.prototype.createThread = function (e, t, n) {\n      var i = document.createElement(\"li\");\n      return i.className = \"yvebot-thread yvebot-thread-\" + e.toLowerCase(), n && i.classList.add(n), i.appendChild(t), i;\n    }, b.prototype.setInputType = function (e) {\n      e = {\n        inputText: this.inputText,\n        textarea: this.textArea\n      }[e];\n      this.input !== e && (this.form.replaceChild(e, this.input), this.input = e), this.options.autoFocus && this.input.focus();\n    }, b.prototype.appendThread = function (e, t, n) {\n      var i = this;\n      this.scrollDown(n.offsetHeight, function () {\n        return t.insertBefore(n, i.typing);\n      }, \"USER\" === e);\n    }, b.prototype.scrollDown = function (e, t, n) {\n      void 0 === n && (n = !1);\n      e = this.conversation.scrollHeight - this.conversation.scrollTop - this.conversation.offsetHeight - e <= 0;\n      t && t(), (e || n) && (this.conversation.scrollTop = this.conversation.scrollHeight);\n    }, b.prototype.createTextMessage = function (e, t) {\n      var n,\n        i,\n        o = this.options,\n        a = o.timestampable,\n        r = o.timestampFormatter,\n        s = e instanceof Array ? (s = e.map(String), n = s, i = this.options.andSeparatorText, o = n.slice(0, -1).join(\", \"), s = n.slice(-1), 1 === n.length ? n[0] : o + \" \" + i + \" \" + s) : String(e),\n        e = document.createElement(\"div\");\n      e.className = \"yvebot-bubble\", t && ((l = document.createElement(\"div\")).className = \"yvebot-sender\", l.innerHTML = t, e.appendChild(l));\n      var l = document.createElement(\"div\");\n      return l.className = \"yvebot-message\", l.innerHTML = s, e.appendChild(l), a && ((a = document.createElement(\"div\")).className = \"yvebot-timestamp\", a.innerHTML = r(Date.now()), e.appendChild(a)), e;\n    }, b);\n  function b(e, t) {\n    this.isMobile = e, this.options = t, this.chat = this.createChat(), this.typing = this.createTyping(), this.conversation = this.createConversation(), this.textArea = this.createTextarea(), this.inputText = this.createInput(), this.input = this.textArea, this.submit = this.createSubmit(), this.form = this.createForm(), this.conversation.appendChild(this.typing), this.chat.appendChild(this.conversation), this.chat.appendChild(this.form), this.inputValue = \"\";\n  }\n  function f() {\n    this.constructor = h;\n  }\n  function v(e, t) {\n    var n = this,\n      t = o(o({}, {\n        andSeparatorText: \"and\",\n        autoFocus: !0,\n        doneMultipleChoiceLabel: \"Done\",\n        inputPlaceholder: \"Type your message\",\n        inputPlaceholderMultipleChoice: \"Choose the options above\",\n        inputPlaceholderSingleChoice: \"Choose an option above\",\n        moreOptionsLabel: \"More options\",\n        submitLabel: \"Send\",\n        target: \"body\",\n        timestampFormatter: function (e) {\n          return new Date(e).toUTCString().slice(-12, -4);\n        },\n        timestampable: !1\n      }), t);\n    return (n = u.call(this, e, t.yveBotOptions) || this).isMobile = r(), n.UIOptions = t, n.UI = new m(n.isMobile, n.UIOptions), n.on(\"start\", function () {\n      document.querySelector(n.UIOptions.target).appendChild(n.UI.chat), n.UIOptions.autoFocus && n.UI.input.focus();\n    }).on(\"talk\", function (e, t) {\n      n.newMessage(\"BOT\", e, t);\n    }).on(\"typing\", function () {\n      return n.typing();\n    }).on(\"typed\", function () {\n      return n.typed();\n    }), n.UI.form.addEventListener(\"submit\", function (e) {\n      e.preventDefault(), e.stopPropagation();\n      e = n.UI.input.value.trim(), e = new DOMParser().parseFromString(e, \"text/html\").body.textContent || \"\";\n      return e && (n.hear(e), n.newMessage(\"USER\", e), n.UI.input.value = \"\", n.UI.input.dispatchEvent(new Event(\"input\"))), n.UIOptions.autoFocus && n.UI.input.focus(), !1;\n    }), n;\n  }\n  return u = n.default, i(h = v, d = u), h.prototype = null === d ? Object.create(d) : (f.prototype = d.prototype, new f()), v.prototype.typing = function () {\n    var e = this;\n    return this.UI.scrollDown(this.UI.typing.offsetHeight, function () {\n      return e.UI.typing.classList.add(\"is-typing\");\n    }), this;\n  }, v.prototype.typed = function () {\n    var e = this;\n    return this.UI.scrollDown(this.UI.typing.offsetHeight, function () {\n      return e.UI.typing.classList.remove(\"is-typing\");\n    }), this;\n  }, v.prototype.newMessage = function (e, t, n) {\n    var i = this,\n      o = this.UI,\n      a = \"BOT\" === e ? this.UIOptions.name : null,\n      r = o.createThread(e, o.createTextMessage(t, a));\n    if (\"BOT\" === e) switch (this.UI.setInputType(n.multiline ? \"textarea\" : \"inputText\"), n.type) {\n      case \"SingleChoice\":\n        r.appendChild(o.createSingleChoiceMessage(n, function (e, t) {\n          i.hear(t), i.newMessage(\"USER\", e);\n        }));\n        break;\n      case \"MultipleChoice\":\n        r.appendChild(o.createMultipleChoiceMessage(n, function (e, t) {\n          i.hear(t), i.newMessage(\"USER\", e);\n        }));\n    }\n    return o.appendThread(e, this.UI.conversation, r), this;\n  }, v;\n});","map":{"version":3,"names":["e","t","exports","module","require","define","amd","globalThis","self","YveBot","default","n","i","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","o","assign","arguments","length","apply","a","p","r","s","l","ua","navigator","userAgent","headers","tablet","test","featureDetect","maxTouchPoints","indexOf","c","slice","isMobile","u","h","d","m","b","createSingleChoiceMessage","options","disableForm","inputPlaceholderSingleChoice","createBubbleMessage","remove","enableForm","getAttribute","document","createElement","createBubbleButton","className","classList","add","onclick","value","label","setAttribute","String","textContent","submit","disabled","input","placeholder","inputValue","inputPlaceholder","autoFocus","focus","setTimeout","scrollDown","maxOptions","moreOptionsLabel","type","forEach","appendChild","createMultipleChoiceMessage","doneMultipleChoiceLabel","style","display","previousElementSibling","querySelectorAll","map","toggle","inputPlaceholderMultipleChoice","createChat","createConversation","createTyping","createThread","createForm","createSubmit","submitLabel","createInput","autocomplete","createTextarea","rows","addEventListener","key","keyCode","code","shiftKey","preventDefault","form","dispatchEvent","Event","cancelable","target","height","scrollHeight","toLowerCase","setInputType","inputText","textarea","textArea","replaceChild","appendThread","offsetHeight","insertBefore","typing","conversation","scrollTop","createTextMessage","timestampable","timestampFormatter","andSeparatorText","join","innerHTML","Date","now","chat","f","constructor","v","toUTCString","yveBotOptions","UIOptions","UI","on","querySelector","newMessage","typed","stopPropagation","trim","DOMParser","parseFromString","body","hear","create","name","multiline"],"sources":["/Users/akd/Github/chatbot-node/frontend/node_modules/yve-bot/ui.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).YveBot=t(e.YveBot)}(this,function(e){\"use strict\";function t(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var n=t(e),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=p,r=p,e=p,s=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,l=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function p(e){var t=(e=e||{}).ua;if(\"string\"!=typeof(t=(t=!t&&\"undefined\"!=typeof navigator?navigator.userAgent:t)&&t.headers&&\"string\"==typeof t.headers[\"user-agent\"]?t.headers[\"user-agent\"]:t))return!1;var n=(e.tablet?l:s).test(t);return n=!n&&e.tablet&&e.featureDetect&&navigator&&1<navigator.maxTouchPoints&&-1!==t.indexOf(\"Macintosh\")&&-1!==t.indexOf(\"Safari\")?!0:n}function c(e){return[].slice.call(e)}a.isMobile=r,a.default=e;var u,h,d,m=(b.prototype.createSingleChoiceMessage=function(e,n){var i=this;return e.options.length?(this.disableForm(this.options.inputPlaceholderSingleChoice),this.createBubbleMessage(e,function(e,t){t.remove(),i.enableForm(),n(e.getAttribute(\"data-label\"),e.getAttribute(\"data-value\"))})):document.createElement(\"div\")},b.prototype.createBubbleButton=function(e,t,n){var i=document.createElement(\"button\");i.className=\"yvebot-message-bubbleBtn\",n&&n.className&&i.classList.add(n.className),i.onclick=function(){return t(i)};n=e.value,e=e.label;return i.setAttribute(\"data-value\",String((void 0===n?e:n)||\"\")),i.setAttribute(\"data-label\",String((void 0===e?n:e)||\"\")),i.textContent=i.getAttribute(\"data-label\"),i},b.prototype.disableForm=function(e){this.submit.disabled=!0,this.input.disabled=!0,this.input.placeholder=e,this.inputValue=this.input.value,this.input.value=\"\"},b.prototype.enableForm=function(){var e=this;this.submit.disabled=!1,this.input.disabled=!1,this.input.placeholder=this.options.inputPlaceholder,this.input.value=this.inputValue,this.inputValue=\"\",this.options.autoFocus&&(this.input.focus(),this.isMobile&&setTimeout(function(){return e.scrollDown(0,null,!0)},500))},b.prototype.createBubbleMessage=function(a,r){var s=this,e=a.maxOptions,l=void 0===e?0:e,p=this.options.moreOptionsLabel,c=document.createElement(\"div\");c.className=\"yvebot-message-bubbles yvebot-ruleType-\"+a.type;var u=function(i,e){void 0===e&&(e=0);var o=l?e+l-1:i.length;i.slice(e,o).forEach(function(e,t){var n,e=s.createBubbleButton(e,function(e){r(e,c),\"MultipleChoice\"!==a.type&&s.scrollDown(0,null,!0)});c.appendChild(e),o<i.length&&t===l-2&&(n=s.createBubbleButton({label:p},function(){u(i,o),n.remove()},{className:\"yvebot-message-bubbleMoreOptions\"}),c.appendChild(n))})};return u(a.options),c},b.prototype.createMultipleChoiceMessage=function(e,i){var o,a,t,n=document.createElement(\"div\");return e.options.length&&((o=document.createElement(\"button\")).textContent=this.options.doneMultipleChoiceLabel,o.className=\"yvebot-message-bubbleDone\",o.style.display=\"none\",a=this,o.onclick=function(){var e=o.previousElementSibling,t=e.querySelectorAll(\".yvebot-message-bubbleBtn.selected\"),n=c(t).map(function(e){return e.getAttribute(\"data-label\")}),t=c(t).map(function(e){return e.getAttribute(\"data-value\")});i(n,t),e.remove(),o.remove(),a.enableForm(),a.scrollDown(0,null,!0)},t=this.createBubbleMessage(e,function(e){e.classList.toggle(\"selected\"),t.querySelectorAll(\".yvebot-message-bubbleBtn.selected\").length?o.style.display=\"inline-block\":o.style.display=\"none\"}),this.disableForm(this.options.inputPlaceholderMultipleChoice),n.appendChild(t),n.appendChild(o)),n},b.prototype.createChat=function(){var e=document.createElement(\"div\");return e.className=\"yvebot-chat\",e},b.prototype.createConversation=function(){var e=document.createElement(\"ul\");return e.className=\"yvebot-conversation\",e},b.prototype.createTyping=function(){var t=document.createElement(\"div\");return t.className=\"yvebot-typing\",[1,2,3].forEach(function(){var e=document.createElement(\"span\");e.className=\"yvebot-typing-dot\",t.appendChild(e)}),this.createThread(\"BOT\",t,\"yvebot-thread-typing\")},b.prototype.createForm=function(){var e=document.createElement(\"form\");return e.className=\"yvebot-form\",e.appendChild(this.input),e.appendChild(this.submit),e},b.prototype.createSubmit=function(){var e=document.createElement(\"button\");return e.className=\"yvebot-form-submit\",e.type=\"submit\",e.textContent=this.options.submitLabel,e},b.prototype.createInput=function(){var e=document.createElement(\"input\");return e.className=\"yvebot-form-input\",e.type=\"text\",e.placeholder=this.options.inputPlaceholder,e.autocomplete=\"off\",e},b.prototype.createTextarea=function(){var n=this,e=document.createElement(\"textarea\");return e.className=\"yvebot-form-input\",e.placeholder=this.options.inputPlaceholder,e.rows=1,e.addEventListener(\"keydown\",function(e){var t=e.key||e.keyCode||e.code;0<=[\"Enter\",13].indexOf(t)&&!e.shiftKey&&(e.preventDefault(),n.form.dispatchEvent(new Event(\"submit\",{cancelable:!0})))}),e.addEventListener(\"input\",function(e){e=e.target;e.style.height=\"auto\",e.style.height=e.scrollHeight+\"px\"}),e},b.prototype.createThread=function(e,t,n){var i=document.createElement(\"li\");return i.className=\"yvebot-thread yvebot-thread-\"+e.toLowerCase(),n&&i.classList.add(n),i.appendChild(t),i},b.prototype.setInputType=function(e){e={inputText:this.inputText,textarea:this.textArea}[e];this.input!==e&&(this.form.replaceChild(e,this.input),this.input=e),this.options.autoFocus&&this.input.focus()},b.prototype.appendThread=function(e,t,n){var i=this;this.scrollDown(n.offsetHeight,function(){return t.insertBefore(n,i.typing)},\"USER\"===e)},b.prototype.scrollDown=function(e,t,n){void 0===n&&(n=!1);e=this.conversation.scrollHeight-this.conversation.scrollTop-this.conversation.offsetHeight-e<=0;t&&t(),(e||n)&&(this.conversation.scrollTop=this.conversation.scrollHeight)},b.prototype.createTextMessage=function(e,t){var n,i,o=this.options,a=o.timestampable,r=o.timestampFormatter,s=e instanceof Array?(s=e.map(String),n=s,i=this.options.andSeparatorText,o=n.slice(0,-1).join(\", \"),s=n.slice(-1),1===n.length?n[0]:o+\" \"+i+\" \"+s):String(e),e=document.createElement(\"div\");e.className=\"yvebot-bubble\",t&&((l=document.createElement(\"div\")).className=\"yvebot-sender\",l.innerHTML=t,e.appendChild(l));var l=document.createElement(\"div\");return l.className=\"yvebot-message\",l.innerHTML=s,e.appendChild(l),a&&((a=document.createElement(\"div\")).className=\"yvebot-timestamp\",a.innerHTML=r(Date.now()),e.appendChild(a)),e},b);function b(e,t){this.isMobile=e,this.options=t,this.chat=this.createChat(),this.typing=this.createTyping(),this.conversation=this.createConversation(),this.textArea=this.createTextarea(),this.inputText=this.createInput(),this.input=this.textArea,this.submit=this.createSubmit(),this.form=this.createForm(),this.conversation.appendChild(this.typing),this.chat.appendChild(this.conversation),this.chat.appendChild(this.form),this.inputValue=\"\"}function f(){this.constructor=h}function v(e,t){var n=this,t=o(o({},{andSeparatorText:\"and\",autoFocus:!0,doneMultipleChoiceLabel:\"Done\",inputPlaceholder:\"Type your message\",inputPlaceholderMultipleChoice:\"Choose the options above\",inputPlaceholderSingleChoice:\"Choose an option above\",moreOptionsLabel:\"More options\",submitLabel:\"Send\",target:\"body\",timestampFormatter:function(e){return new Date(e).toUTCString().slice(-12,-4)},timestampable:!1}),t);return(n=u.call(this,e,t.yveBotOptions)||this).isMobile=r(),n.UIOptions=t,n.UI=new m(n.isMobile,n.UIOptions),n.on(\"start\",function(){document.querySelector(n.UIOptions.target).appendChild(n.UI.chat),n.UIOptions.autoFocus&&n.UI.input.focus()}).on(\"talk\",function(e,t){n.newMessage(\"BOT\",e,t)}).on(\"typing\",function(){return n.typing()}).on(\"typed\",function(){return n.typed()}),n.UI.form.addEventListener(\"submit\",function(e){e.preventDefault(),e.stopPropagation();e=n.UI.input.value.trim(),e=(new DOMParser).parseFromString(e,\"text/html\").body.textContent||\"\";return e&&(n.hear(e),n.newMessage(\"USER\",e),n.UI.input.value=\"\",n.UI.input.dispatchEvent(new Event(\"input\"))),n.UIOptions.autoFocus&&n.UI.input.focus(),!1}),n}return u=n.default,i(h=v,d=u),h.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f),v.prototype.typing=function(){var e=this;return this.UI.scrollDown(this.UI.typing.offsetHeight,function(){return e.UI.typing.classList.add(\"is-typing\")}),this},v.prototype.typed=function(){var e=this;return this.UI.scrollDown(this.UI.typing.offsetHeight,function(){return e.UI.typing.classList.remove(\"is-typing\")}),this},v.prototype.newMessage=function(e,t,n){var i=this,o=this.UI,a=\"BOT\"===e?this.UIOptions.name:null,r=o.createThread(e,o.createTextMessage(t,a));if(\"BOT\"===e)switch(this.UI.setInputType(n.multiline?\"textarea\":\"inputText\"),n.type){case\"SingleChoice\":r.appendChild(o.createSingleChoiceMessage(n,function(e,t){i.hear(t),i.newMessage(\"USER\",e)}));break;case\"MultipleChoice\":r.appendChild(o.createMultipleChoiceMessage(n,function(e,t){i.hear(t),i.newMessage(\"USER\",e)}))}return o.appendThread(e,this.UI.conversation,r),this},v});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}